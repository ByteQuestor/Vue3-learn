{"version":3,"file":"settings.js","sources":["pages/mine/settings/settings.vue","D:/root/green/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvbWluZS9zZXR0aW5ncy9zZXR0aW5ncy52dWU"],"sourcesContent":["<template>\r\n\t<view class=\"container\">\r\n\t\t<view class=\"setting-item\" v-for=\"module in allModules\" :key=\"module.id\">\r\n\t\t\t<text>{{ module.label }}</text>\r\n\t\t\t<switch :checked=\"module.enabled\" @change=\"toggleModule(module.id, $event)\" />\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script setup>\r\n\timport {\r\n\t\tref,\r\n\t\tonMounted\r\n\t} from 'vue';\r\n\r\n\tconst allModules = ref([]);\r\n\r\n\t// 初始化加载配置\r\n\tonMounted(() => {\r\n\t\tconsole.log(\"进入设置\")\r\n\t\tconst defaultConfig = {\r\n\t\t\tpurchase: true,\r\n\t\t\tsell: true,\r\n\t\t\tprint: true\r\n\t\t};\r\n\r\n\t\tconst savedConfig = uni.getStorageSync('moduleConfig') || defaultConfig;\r\n\r\n\t\tallModules.value = [{\r\n\t\t\t\tid: 'purchase',\r\n\t\t\t\tlabel: '进货',\r\n\t\t\t\tenabled: savedConfig.purchase\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tid: 'sell',\r\n\t\t\t\tlabel: '卖货',\r\n\t\t\t\tenabled: savedConfig.sell\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tid: 'print',\r\n\t\t\t\tlabel: '打印',\r\n\t\t\t\tenabled: savedConfig.print\r\n\t\t\t}\r\n\t\t];\r\n\t});\r\n\t\r\n\t// 切换模块状态\r\n\tconst toggleModule = (moduleId, event) => {\r\n\t\tconst newValue = event.detail.value;\r\n\t\tconst module = allModules.value.find(m => m.id === moduleId);\r\n\t\tif (module) {\r\n\t\t\tmodule.enabled = newValue;\r\n\t\t\tsaveConfig();\r\n\t\t}\r\n\t};\r\n\r\n\t// 保存配置到本地存储\r\n\tconst saveConfig = () => {\r\n\t\tconst config = allModules.value.reduce((acc, cur) => {\r\n\t\t\tacc[cur.id] = cur.enabled;\r\n\t\t\treturn acc;\r\n\t\t}, {});\r\n\r\n\t\tuni.setStorageSync('moduleConfig', config);\r\n\t};\r\n\tonHide(()=>{\r\n\t\tsaveConfig();\r\n\t})\r\n</script>\r\n\r\n<style>\r\n\t.setting-item {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\tpadding: 20rpx;\r\n\t\tborder-bottom: 1px solid #eee;\r\n\t}\r\n</style>","import MiniProgramPage from 'E:/User/wzy/github/JasERP/JasERP-app/pages/mine/settings/settings.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","onMounted","uni","onHide","MiniProgramPage"],"mappings":";;;;;AAeC,UAAM,aAAaA,kBAAI,CAAA,CAAE;AAGzBC,kBAAAA,UAAU,MAAM;AACfC,oBAAAA,6DAAY,MAAM;AAClB,YAAM,gBAAgB;AAAA,QACrB,UAAU;AAAA,QACV,MAAM;AAAA,QACN,OAAO;AAAA,MACV;AAEE,YAAM,cAAcA,cAAG,MAAC,eAAe,cAAc,KAAK;AAE1D,iBAAW,QAAQ;AAAA,QAAC;AAAA,UAClB,IAAI;AAAA,UACJ,OAAO;AAAA,UACP,SAAS,YAAY;AAAA,QACrB;AAAA,QACD;AAAA,UACC,IAAI;AAAA,UACJ,OAAO;AAAA,UACP,SAAS,YAAY;AAAA,QACrB;AAAA,QACD;AAAA,UACC,IAAI;AAAA,UACJ,OAAO;AAAA,UACP,SAAS,YAAY;AAAA,QACrB;AAAA,MACJ;AAAA,IACA,CAAE;AAGD,UAAM,eAAe,CAAC,UAAU,UAAU;AACzC,YAAM,WAAW,MAAM,OAAO;AAC9B,YAAM,SAAS,WAAW,MAAM,KAAK,OAAK,EAAE,OAAO,QAAQ;AAC3D,UAAI,QAAQ;AACX,eAAO,UAAU;AACjB;MACA;AAAA,IACH;AAGC,UAAM,aAAa,MAAM;AACxB,YAAM,SAAS,WAAW,MAAM,OAAO,CAAC,KAAK,QAAQ;AACpD,YAAI,IAAI,EAAE,IAAI,IAAI;AAClB,eAAO;AAAA,MACP,GAAE,CAAE,CAAA;AAELA,oBAAAA,MAAI,eAAe,gBAAgB,MAAM;AAAA,IAC3C;AACCC,kBAAAA,OAAO,MAAI;AACV;IACF,CAAE;;;;;;;;;;;;;;;AClEF,GAAG,WAAWC,SAAe;"}